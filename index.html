<!doctype html>
<html lang="fr-FR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="assets/style.css">
    <meta name="description" content="">

    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <meta property="og:image:alt" content="">

    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="icon.png">

    <link rel="manifest" href="site.webmanifest">
    <meta name="theme-color" content="#fafafa">
</head>

<body>
    <main class="js-main"></main>
    <footer>
        <button type="button" class="js-launch-timer">
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M9 3V1h6v2zm3 19q-1.85 0-3.488-.712T5.65 19.35t-1.937-2.863T3 13t.713-3.488T5.65 6.65t2.863-1.937T12 4q1.55 0 2.975.5t2.675 1.45l1.4-1.4l1.4 1.4l-1.4 1.4Q20 8.6 20.5 10.025T21 13q0 1.85-.713 3.488T18.35 19.35t-2.863 1.938T12 22m0-2q2.9 0 4.95-2.05T19 13t-2.05-4.95T12 6T7.05 8.05T5 13t2.05 4.95T12 20m-2-3l6-4l-6-4z"/></svg>
        </button>
        <button type="button" class="js-pause-timer" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 22q-1.875 0-3.512-.712t-2.85-1.925t-1.925-2.85T3 13t.713-3.512t1.924-2.85t2.85-1.925T12 4t3.513.713t2.85 1.925t1.925 2.85T21 13t-.712 3.513t-1.925 2.85t-2.85 1.925T12 22M5.6 2.35L7 3.75L2.75 8l-1.4-1.4zm12.8 0l4.25 4.25l-1.4 1.4L17 3.75zM12 20q2.925 0 4.963-2.037T19 13t-2.037-4.962T12 6T7.038 8.038T5 13t2.038 4.963T12 20m-3-3h2V9H9zm4 0h2V9h-2z"/></svg>
        </button>
    </footer>
    <template id="template">
        <div class="cell js-cell">
            <input type="text" class="name" aria-label="PrÃ©nom" autocomplete="off" data-lpignore="true" data-form-type="other" />
            <p class="timer js-timer">
                0:00:00
            </p>
            <div class="timer-control">
                <label class="timer-toggle">
                    <input type="checkbox" class="js-playeronfield">
                    Sur le terrain
                </label>
                <button type="button" class="js-button-reset"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z"/></svg></button>
            </div>
        </div>
    </template>
    <script type="module">
        import { Timer } from './assets/timer.js'

        window.is_timer_launched = false

        const TEMPLATE = document.querySelector('#template')
        const MAINELEMENT = document.querySelector('.js-main')
        const TIMERS = new Map()
        const PLAYBUTTON = document.querySelector('.js-launch-timer')
        const PAUSEBUTTON = document.querySelector('.js-pause-timer')

        Array.from({ length: 10 }).forEach(() => {
            const content = TEMPLATE.content.cloneNode(true)
            MAINELEMENT.appendChild(content)
        })
        document.querySelectorAll('.js-cell').forEach((element) => {
            const launchTimer = new Timer(element)
            TIMERS.set(element.id, launchTimer)
        })

        PLAYBUTTON.addEventListener('click', ({ target }) => {
            target.hidden = true
            PAUSEBUTTON.hidden = false
            window.is_timer_launched = true
            TIMERS.forEach((timer) => {
                timer.launch()
            })
        })

        PAUSEBUTTON.addEventListener('click', ({ target }) => {
            window.is_timer_launched = false
            target.hidden = true
            PLAYBUTTON.hidden = false
            TIMERS.forEach((timer) => {
                timer.pause()
            })
        })
    </script>
</body>

</html>
